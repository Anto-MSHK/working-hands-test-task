# Working Hands - Приложение для поиска подработки

**Working Hands** - это мобильное приложение на React Native, разработанное для поиска доступных смен подработки на основе геолокации пользователя.

## Описание приложения

Приложение позволяет пользователям:

- Находить доступные смены подработки в их текущем местоположении
- Просматривать детальную информацию о каждой смене
- Получать актуальные данные о вакансиях через API

## Техническое задание

Это приложение было создано в рамках выполнения тестового задания с следующими требованиями:

### Функциональные требования

1. ✅ При первом запуске запросить точную геолокацию пользователя
2. ✅ Получить список смен в городе, передав координаты пользователя в запрос
3. ✅ Отобразить список смен с краткой информацией
4. ✅ По нажатию на элемент списка открыть экран с подробными данными смены
5. ✅ Данные для экрана деталей берутся из ранее полученного списка (без повторного запроса)

### Технические требования

- ✅ React Native CLI (без Expo)
- ✅ Навигация между экранами
- ✅ Управление состоянием приложения
- ✅ Оптимизированная верстка
- ✅ Работа с API

## Архитектура приложения

### Технологический стек

- **React Native**
- **Redux Toolkit**
- **React Navigation**
- **TypeScript**

### Структура проекта

```
src/
├── api/                    # API сервисы
├── components/             # Переиспользуемые компоненты
│   ├── ShiftListItem.tsx  # Элемент списка смен
│   └── index.ts
├── hooks/                  # Кастомные хуки
│   ├── useGeolocation.ts  # Хук для работы с геолокацией
│   └── index.ts
├── navigation/             # Настройка навигации
│   ├── AppNavigator.tsx   # Главный навигатор
│   └── index.ts
├── screens/                # Экраны приложения
│   ├── LocationPermissionScreen.tsx  # Экран разрешения геолокации
│   ├── ShiftListScreen.tsx          # Список смен
│   ├── ShiftDetailScreen.tsx        # Детали смены
│   └── index.ts
├── store/                  # Redux store
│   ├── shiftsSlice.ts     # Slice для работы со сменами
│   └── store.ts           # Конфигурация store
├── types/                  # TypeScript типы
│   └── index.ts
└── utils/                  # Утилиты
    ├── geolocationService.ts  # Сервис геолокации
    └── index.ts
```

## Экраны приложения

### 1. Экран разрешения геолокации (LocationPermissionScreen)

- Запрашивает разрешение на использование геолокации
- Обрабатывает различные состояния разрешений
- Показывает соответствующие сообщения пользователю
- Автоматически переходит к списку смен при получении координат

### 2. Экран списка смен (ShiftListScreen)

- Отображает список доступных смен рядом с пользователем
- Поддерживает обновление списка жестом "потянуть для обновления"
- Показывает количество доступных смен
- Оптимизирован для производительности с помощью FlatList

### 3. Экран деталей смены (ShiftDetailScreen)

- Показывает детальную информацию о выбранной смене
- Включает все данные из API: компанию, адрес, время, оплату, рейтинг
- Структурированное отображение информации в карточках

## Управление состоянием

Приложение использует **Redux Toolkit** для управления состоянием:

### ShiftsSlice

- `data` - массив смен
- `loading` - состояние загрузки
- `error` - сообщение об ошибке
- `selectedShift` - выбранная смена

### Действия (Actions)

- `fetchShifts` - загрузка списка смен по координатам
- `clearError` - очистка ошибок

## API интеграция

Приложение работает с API **HandsWork**:

### Эндпоинт

```
GET https://mobile.handswork.pro/api/shifts/map-list-unauthorized
```

### Параметры запроса

- `latitude` - широта пользователя
- `longitude` - долгота пользователя

### Данные смены

API возвращает объекты смен со следующими полями:

- `logo` - логотип работодателя
- `address` - адрес проведения смены
- `companyName` - название компании
- `dateStartByCity` - дата начала
- `timeStartByCity` - время начала
- `timeEndByCity` - время окончания
- `currentWorkers` - текущее количество работников
- `planWorkers` - требуемое количество работников
- `workTypes` - типы работ
- `priceWorker` - базовая оплата
- `bonusPriceWorker` - бонусная оплата
- `customerFeedbacksCount` - количество отзывов
- `customerRating` - рейтинг работодателя

## Установка и запуск

### Предварительные требования

- Node.js (>= 20)
- React Native CLI
- Android Studio или Xcode
- Java Development Kit (JDK)

### Установка зависимостей

```bash
# Установка npm зависимостей
npm install

# Для iOS - установка CocoaPods
cd ios && bundle exec pod install && cd ..
```

**Примечание**: После установки зависимостей автоматически запускается скрипт `postinstall`, который:

- Исправляет проблемы с библиотекой `react-native-screens` для Android сборки

### Запуск приложения

#### Android

```bash
# Запуск Metro bundler
npm start

# В отдельном терминале - запуск Android приложения
npm run android
```

#### iOS

```bash
# Запуск Metro bundler
npm start

# В отдельном терминале - запуск iOS приложения
npm run ios
```

### Дополнительные команды

```bash
# Очистка кеша
npm run clean

# Запуск тестов
npm test

# Линтинг кода
npm run lint
```

## Конфигурация

### Разрешения Android

Приложение запрашивает следующие разрешения в `android/app/src/main/AndroidManifest.xml`:

- `ACCESS_FINE_LOCATION` - точная геолокация
- `ACCESS_COARSE_LOCATION` - приблизительная геолокация

### Настройки iOS

В `ios/working_hands/Info.plist` добавлено описание использования геолокации:

- `NSLocationWhenInUseUsageDescription` - описание использования локации

## UI/UX особенности

### Дизайн

- Современный Material Design подход
- Адаптивная верстка для разных размеров экранов
- Кастомные тени и скругления для карточек
- Интуитивная навигация

### Производительность

- Оптимизация FlatList с помощью `getItemLayout`
- Мемоизация callback функций
- Lazy loading компонентов
- Оптимизация изображений с помощью react-native-fast-image

### Обработка ошибок

- Graceful обработка ошибок геолокации
- Уведомления пользователя о проблемах с сетью
- Возможность повторных попыток загрузки
